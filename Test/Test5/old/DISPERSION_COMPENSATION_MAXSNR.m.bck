function [ max_snr ] = DISPERSION_COMPENSATION_MAXSNR( Nstep,size_length,n_prop_steps,etasp,gamma,R,Nspan)

options = optimset('Display','off','TolX',3e-1);
funmax = @(dBm)  -par_snr(Nstep,dBm,size_length,n_prop_steps,etasp,gamma,R,Nspan);

[P_max,max_snr] = fminbnd(funmax,-2,10,options);
max_snr = -max_snr;
end

